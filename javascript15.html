<!DOCTYPE html>
<html lang="ja">
  <head>
  </head>
  <script type="text/javascript">
    function changeColor(element) {
      if (element == null) {
        var element = document.body;
      }
      if (element.childNodes.length > 0) {
        changeColor(element.firstChild);
      }
      if (element.nodeType == 1) {
        if (element.style.backgroundColor == "blue") { 
          element.style.backgroundColor = "red";
        }
      }
      if (element.nextSibling != null) {
        changeColor(element.nextSibling);
      }
    }
  </script>
  <body>
   
  <form>
  <table border="1">
    <tr>
      <td style="background-color: blue;">赤くしたい</td>
      <td>赤くしない</td>
    </tr> 
    <tr>
      <td><span style="background-color: blue;">赤くなれ</span></td>
    </tr>
  </table>
  <div style="width: 200px; border-style: solid;">
  <span>ここは赤くしない</span>
  </div>
  <div id="test1"><span id="test2">タグを入れ子にする</span></div>
  </form>
  <input type="button" value="実行開始" onclick="changeColor()" />
   
  </body>
</html>